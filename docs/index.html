<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="SmileP1.html">SmileP1</a><ul class='methods'><li data-type='method'><a href="SmileP1.html#discover">discover</a></li><li data-type='method'><a href="SmileP1.html#getFirmwareLevel">getFirmwareLevel</a></li><li data-type='method'><a href="SmileP1.html#getInterfaceStatus">getInterfaceStatus</a></li><li data-type='method'><a href="SmileP1.html#getLogs">getLogs</a></li><li data-type='method'><a href="SmileP1.html#getMeterReadings">getMeterReadings</a></li><li data-type='method'><a href="SmileP1.html#getStatus">getStatus</a></li><li data-type='method'><a href="SmileP1.html#getWifiScan">getWifiScan</a></li><li data-type='method'><a href="SmileP1.html#login">login</a></li><li data-type='method'><a href="SmileP1.html#reboot">reboot</a></li></ul></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h2>Node package to interface directly with Plugwise Smile P1 energy monitor devices (no Stretch or bridge required).</h2>
<h3>It allows you to:</h3>
<h4>get:</h4>
<ul>
<li>device information</li>
<li>network and wifi information</li>
<li>live energy and gas readings</li>
<li>historic logs of energy and gas readings</li>
</ul>
<h4>set:</h4>
<ul>
<li>nothing (yet)</li>
</ul>
<h4>do:</h4>
<ul>
<li>discover the device in a local network (internet connection to plugwise required)</li>
<li>login with device ID</li>
<li>reboot the device (V3 firmware only)</li>
</ul>
<h3>Note:</h3>
<p>This package has been developed and tested with firmware V2 and V3.</p>
<h3>Install:</h3>
<p>If you don't have Node installed yet, get it from: <a href="https://nodejs.org" title="Nodejs website">Nodejs.org</a>.</p>
<p>To install the Smile P1 package:</p>
<pre class="prettyprint source"><code>> npm i smilep1
</code></pre>
<h3>Test:</h3>
<p>From the folder in which you installed the SmileP1 package, just run below command. The port only needs to be set if you are not using the default port 80. TLS/SSL will be used when setting port to 443. When no host is entered, autodiscovery will be attempted.  For Belgian P1 meters you need to add <code>reversed=true</code></p>
<pre class="prettyprint source"><code>> npm test id=yourDeviceID [host=yourDeviceIP] [port=yourHostPort]
</code></pre>
<h3>Quickstart:</h3>
<pre class="prettyprint source"><code>// create a Smile P1 session, login to device, fetch meter readings
	const Smile = require('smilep1');

	const smile = new Smile();

	async function getMeterReadings() {
		try {
			// fill in the id of the device, e.g. 'hcfrasde'
			// fill in the ip address of the device, e.g. '192.168.1.50'
			const options = { id='yourDeviceID', host='yourDeviceIP'}
			await smile.login(options);
			const powerInfo = await smile.getMeterReadings();
			console.log(powerInfo);
		} catch (error) {
			console.log(error);
		}
	}

	getMeterReadings();
</code></pre>
<h2>Detailed documentation:</h2>
<p><a href="https://gruijter.github.io/smilep1.js/" title="smilep1.js documentation">Detailed documentation</a></p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Wed Feb 15 2023 16:38:37 GMT+0100 (Midden-Europese standaardtijd) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


</body>
</html>